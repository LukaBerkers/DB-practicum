CREATE TABLE Game (
    gid         integer         PRIMARY KEY,
    gname       text            NOT NULL,
    year        integer         NOT NULL,
    minplayers  integer         NOT NULL CHECK(minplayers > 0),
    maxplayers  integer         NOT NULL CHECK(maxplayers >= minplayers),
    minage      integer         NOT NULL CHECK(minage >= 0)
); 

CREATE TABLE PatentHolder (
    phid        integer         PRIMARY KEY,
    phname      text            NOT NULL
);

CREATE TABLE Organization (
    oid         integer         PRIMARY KEY,
    oname       integer         NOT NULL
);

CREATE TABLE Human (
    hid         integer         PRIMARY KEY,
    hname       text            NOT NULL
);

CREATE TABLE Publisher (
    pid         integer         PRIMARY KEY,
    pname       text            NOT NULL
);

CREATE TABLE Version (
    vid         integer         PRIMARY KEY,
    vname       text            NOT NULL
);

CREATE TABLE Language (
    langcode    char(2)         PRIMARY KEY,
    langname    text            NOT NULL UNIQUE
);

CREATE TABLE OnlineSeller (
    sid         integer         PRIMARY KEY,
    sname       text            NOT NULL,
    website     text            NOT NULL UNIQUE
);

CREATE TABLE OfflineSeller (
    sid         integer         PRIMARY KEY,
    sname       text            NOT NULL,
    address     text            NOT NULL UNIQUE
);

CREATE TABLE Patent (
    gid         integer         NOT NULL,
    phid        integer         REFERENCES PatentHolder(phid),
    country     text, -- FD: country gid --> phid
    PRIMARY KEY(country, phid)
);

CREATE TABLE Sport (
    gid         integer         REFERENCES Game(gid),
    oid         integer         REFERENCES Organization(oid),
    PRIMARY KEY(gid, oid)
);

CREATE TABLE Job  (
    gid         integer         REFERENCES Game(gid),
    hid         integer         REFERENCES Human(hid),
    job         varchar(10),
    PRIMARY KEY(gid, hid, job)
);

CREATE TABLE Lang (
    langname    integer         REFERENCES Language(langname),
    vid         integer         REFERENCES Version(vid),
    PRIMARY KEY(langname, vid)
);

CREATE TABLE Sells (
    sid         integer, -- Constraint: must be in either OfflineSellers or OnlineSellers
    vid         integer,
    price       integer,
    PRIMARY KEY(sid, vid)
);

INSERT INTO Game VALUES (0, 'Monopoly', 1933, 2, 8, 8);
INSERT INTO Game VALUES (1, 'Scrabble', 1948, 2, 4, 10);
INSERT INTO Game VALUES (2, 'Go', -2200, 2, 2, 8);
INSERT INTO Game VALUES (3, 'Chess', 1475, 2, 2, 6);
INSERT INTO Game VALUES (4, 'Battleship', 1931, 2, 2, 8);
INSERT INTO Game VALUES (5, 'Catan', 1995, 3, 4, 10);
INSERT INTO Game VALUES (6, 'The Werewolves of Miller''s Hollow', 2001, 8, 18, 10);
INSERT INTO Game VALUES (7, 'BANG!', 2002, 4, 7, 10);
INSERT INTO Organization VALUES (0, 'European Go Federation');
INSERT INTO Organization VALUES (1, 'American Go Association');
INSERT INTO Organization VALUES (2, 'Nederlandse Go Bond');
INSERT INTO Organization VALUES (3, 'All India Chess Federation');
INSERT INTO Organization VALUES (4, 'All India Chess Federation for the Blind');
INSERT INTO Organization VALUES (5, 'Japan Chess Association');
INSERT INTO Sport VALUES (2, 0);
INSERT INTO Sport VALUES (2, 1);
INSERT INTO Sport VALUES (2, 2);
INSERT INTO Sport VALUES (3, 3);
INSERT INTO Sport VALUES (3, 4);
INSERT INTO Sport VALUES (3, 5);
